(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{68:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return b}));var n=a(2),r=a(6),i=(a(0),a(76)),s={id:"core_concepts",title:"Core Concepts",sidebar_label:"Core Concepts"},o={unversionedId:"core_concepts",id:"core_concepts",isDocsHomePage:!1,title:"Core Concepts",description:"Traits",source:"@site/docs/core_concepts.md",slug:"/core_concepts",permalink:"/docs/core_concepts",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/core_concepts.md",version:"current",sidebar_label:"Core Concepts",sidebar:"someSidebar",next:{title:"Getting Started",permalink:"/docs/getting_started"}},c=[{value:"Traits",id:"traits",children:[]},{value:"Selectors",id:"selectors",children:[]},{value:"Nested Traits",id:"nested-traits",children:[]},{value:"Loadable",id:"loadable",children:[]}],l={rightToc:c};function b(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"traits"},"Traits"),Object(i.b)("p",null,"Temper states are called ",Object(i.b)("strong",{parentName:"p"},"Traits"),"."),Object(i.b)("p",null,"Traits are globally shared units of state that components can subscribe to.\n",Object(i.b)("strong",{parentName:"p"},"Traits can be read and written from any component in the application tree."),"\nSubscribed components will rerender everytime the Trait value changes."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Traits can be used in place of React states."),"\nIf the same Trait is used from multiple components, all those components share their state."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js",metastring:"{1}","{1}":!0}),"setTrait('id', '106');\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Traits are type safe"),". Once set, a Trait type cannot change.\nYou can however unset a Trait by passing an ",Object(i.b)("inlineCode",{parentName:"p"},"undefined")," value."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js",metastring:"{3}","{3}":!0}),"// This would throw a type error\n// since we previously initialize `id` as string\nsetTrait('id', 106);\n")),Object(i.b)("h2",{id:"selectors"},"Selectors"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Selectors are derived Traits"),". You can think of selectors as the output of passing a state to a pure function that executes some logic based on that state."),Object(i.b)("p",null,"In Temper selectors are Traits whose value is a callback that uses the ",Object(i.b)("inlineCode",{parentName:"p"},"get")," helper method:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx",metastring:"{4}","{4}":!0}),"// This is a simple Trait\nsetTrait('radius', 5);\n// This is a selector Trait\nsetTrait('circleArea', ({ get }) => Math.pow(get('radius'), 2) * Math.PI);\n}\n")),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Selectors ",Object(i.b)("strong",{parentName:"p"},"permanently")," depend on their reference Trait.\nWhen the reference Trait changes, the selector value is updated ",Object(i.b)("strong",{parentName:"p"},"automatically"),".\nTherefore, ",Object(i.b)("strong",{parentName:"p"},"you cannot manually update selectors once set"),", since their value tightly depends on their base Trait."))),Object(i.b)("p",null,"Selectors can also have multiple reference Traits."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx",metastring:"{2}","{2}":!0}),"setTrait('triangle', { base: 10, height: 5});\nsetTrait('triangleArea', ({ get }) => get('triangle.base') * get('triangle.height') / 2);\n}\n")),Object(i.b)("h2",{id:"nested-traits"},"Nested Traits"),Object(i.b)("p",null,"Temper encourages you to wrap related Traits in a single object."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"When a Trait is an object, each attribute (at any level) will become a new Trait that is individually updatable and subscribable"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js",metastring:"{2}","{2}":!0}),"setTrait('titles', { mainTitle: \"Lorem ipsum\", subTitle: 'Aliquam suscipit'});\nconst [mainTitle, setMainTitle] = useTraitValue('titles.mainTitle');\nsetMainTitle('Lorem ipsum dolor sit amet');\n")),Object(i.b)("h2",{id:"loadable"},"Loadable"),Object(i.b)("p",null,"When the value of Trait is a promise, a ",Object(i.b)("inlineCode",{parentName:"p"},"Loadable")," object represents the current state of that Trait.\nThis state may either have a value available, may be in an error state, or may still be pending asynchronous resolution."),Object(i.b)("p",null,"A ",Object(i.b)("inlineCode",{parentName:"p"},"Loadable")," has the following interface:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"interface Loadable {\n  state: 'hasValue' | 'hasError' | 'loading'\n  value: T | Error | Promise<T>\n}\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"state")," is current state of the Trait. Possible values are ",Object(i.b)("inlineCode",{parentName:"li"},"'hasValue'"),", ",Object(i.b)("inlineCode",{parentName:"li"},"'hasError'"),", or ",Object(i.b)("inlineCode",{parentName:"li"},"'loading'"),"."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"value")," is the value represented by this ",Object(i.b)("inlineCode",{parentName:"li"},"Loadable"),". If the state is ",Object(i.b)("inlineCode",{parentName:"li"},"'hasValue'"),", it is the actual value, if the state is ",Object(i.b)("inlineCode",{parentName:"li"},"'hasError'")," it is the Error object that was thrown, and if the state is ",Object(i.b)("inlineCode",{parentName:"li"},"'loading'"),", then it is a Promise of the value.")))}b.isMDXComponent=!0},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=b(a),d=n,m=p["".concat(s,".").concat(d)]||p[d]||u[d]||i;return a?r.a.createElement(m,o(o({ref:t},l),{},{components:a})):r.a.createElement(m,o({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,s=new Array(i);s[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,s[1]=o;for(var l=2;l<i;l++)s[l]=a[l];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);